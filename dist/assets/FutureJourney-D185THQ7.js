import{r as a,w as Re,a as De,j as e,t as Fe}from"./index-BEdYyf88.js";const Be="/assets/journey-ignition-DXGJRFdm.wav",$e="/assets/journey-select-DiRw5sb_.wav",Le="/assets/journey-hover-Dj38H2PC.wav",ze="/assets/journey-stage-advance-BN-pBPw-.wav",He="/assets/journey-stage-retreat-SFfIIlR0.wav",Oe=(n,x,p)=>Math.min(Math.max(n,x),p),Pe={ignition:Be,selection:$e,hover:Le,advance:ze,retreat:He},We=({enabled:n=!0,masterVolume:x=.4}={})=>{const p=a.useRef({});a.useEffect(()=>{if(typeof window>"u")return;const l=p.current;return Object.entries(Pe).forEach(([b,g])=>{if(!l[b]){const w=new Audio(g);w.preload="auto",w.volume=0,w.load(),l[b]=w}}),()=>{Object.keys(l).forEach(b=>{const g=l[b];g&&(g.pause(),g.src="",delete l[b])})}},[]),a.useEffect(()=>{n||Object.values(p.current).forEach(l=>{l&&(l.pause(),l.currentTime=0)})},[n]);const r=a.useCallback((l,{volume:b=1,playbackRate:g=1}={})=>{if(!n)return;const w=p.current[l];if(!w)return;const c=w.cloneNode(!0);c.volume=Oe(x*b,0,1),c.playbackRate=g,c.currentTime=0,c.play().catch(()=>{})},[n,x]),B=a.useCallback(()=>{r("ignition",{volume:.9})},[r]),y=a.useCallback(()=>{r("selection",{volume:.6})},[r]),C=a.useCallback((l="generic")=>{const g={seat:.94,focus:1.06,habitat:.9,node:1.08,crisis:.88,timeline:1.02,"stage-action":1}[l]??1;r("hover",{volume:.35,playbackRate:g})},[r]),A=a.useCallback(()=>{r("advance",{volume:.75})},[r]),$=a.useCallback(()=>{r("retreat",{volume:.6})},[r]);return a.useMemo(()=>({playIgnition:B,playSelection:y,playHover:C,playStageAdvance:A,playStepBack:$}),[C,B,y,A,$])},W=[{id:"launch",title:"The Launch",subtitle:"Leave Earth behind and board the Terravision starliner."},{id:"ai-guide",title:"AI Companion Awakens",subtitle:"Meet the guide that will decode your path forward."},{id:"colony",title:"First Glimpse of the Colony",subtitle:"Choose the habitat that feels like home among the stars."},{id:"purpose",title:"Future Work & Purpose",subtitle:"Accept a role that aligns with your strengths."},{id:"crisis",title:"Crisis Simulation",subtitle:"Respond to an unexpected event and shape the future."},{id:"vision",title:"Future Vision Chamber",subtitle:"Peer into distant timelines and witness what unfolds."},{id:"legacy",title:"Return with Legacy",subtitle:"Carry your badge home and share the story you forged."}],le=10200,Ue=n=>n>=5&&n<12?"dawn":n>=12&&n<17?"day":n>=17&&n<21?"dusk":"night",Je=(n=new Date,x="Traveler")=>{var l;const p=Number.isFinite((l=n==null?void 0:n.getHours)==null?void 0:l.call(n))?n.getHours():new Date().getHours(),r=Ue(p),y=new Intl.DateTimeFormat("en-GB",{hour:"numeric",minute:"2-digit"}).format(n),C=typeof x=="string"&&x.trim().length>0?x.trim():"Traveler",A={dawn:[{text:"Welcome to 2050.",duration:3400},{text:"The oceans have boiled into a toxic haze, leaving behind vast, salt-crusted deserts under a sickly sun",duration:8400},{text:"Our world is a graveyard, scarred by cosmic bombardments and stripped bare by solar winds. ",duration:6400},{text:"We exist only in the deep-earth shelters, forgotten by the stars.",duration:6400},{text:`It is precisely ${y}, and the sky is ours to ignite.`,duration:6400},{text:`Complete the tasks assigned to you, Agent ${C}.`,duration:6400}],day:[{text:"Welcome to 2050.",duration:3400},{text:"Unshielded from the relentless solar storms, the surface burns beneath a sky now perpetually alight with deadly radiation.",duration:8400},{text:"The asteroid swarm of '48 shattered our atmospheric shield, turning daylight into a weapon.",duration:6400},{text:`It is precisely ${y}, and the sky is ours to ignite.`,duration:6400},{text:`Complete the tasks assigned to you, Agent ${C}.`,duration:6400}],dusk:[{text:"Welcome to 2050.",duration:3400},{text:"The horizon glows not with sunset, but with the impact fires of the daily asteroid rain.",duration:5400},{text:"The dead oceans no longer reflect the sky, only absorb the heat of our planet's final, feverish moments.",duration:8400},{text:"The air itself is a monument to our failure.",duration:4400},{text:`Current mission clock reads ${y} hours.`,duration:4400},{text:`Complete the tasks assigned to you, Agent ${C}.`,duration:4400}],night:[{text:"Welcome to 2050.",duration:3400},{text:"The blackness is absolute, broken only by the auroras of solar radiation poisoning our upper atmosphere.",duration:6400},{text:"The silence of the dead seas is deafening, a constant reminder of a world that drowned in fire and stone. ",duration:3400},{text:"There is nothing left to save, only to witness.",duration:3400},{text:`It is precisely ${y}, and the sky is ours to ignite.`,duration:3400},{text:`Complete the tasks assigned to you, Agent ${C}.`,duration:3400}]};return(A[r]??A.dawn).map((b,g)=>({text:b.text,duration:b.duration??le,className:`intro-text intro-text--${r}-cue-${g+1}`}))},Ye=[{id:"A1",label:"A1 · Forward Observation",description:"Direct view of the launch corridor; crisp visuals for every stage separation."},{id:"B4",label:"B4 · Gravity Neutral",description:"Balanced center of ship; minimal turbulence and a smooth ascent."},{id:"C2",label:"C2 · Navigator’s Wing",description:"Adjacent to the mission deck with access to stellar telemetry."},{id:"D5",label:"D5 · Starlight Capsule",description:"Panoramic dome canopy; ideal for dramatic nebula openings."}],Ve=[{id:"Eco",title:"Gaia Continuum",prompt:"Guide me through futures where ecosystems are sacred and thriving.",aiTone:"I will align your path with living worlds. Expect verdant domes, harmonic weather systems, and bio-symphonic cities."},{id:"Stellar",title:"Cosmos Vanguard",prompt:"Open the gates to orbital civilizations and deep-space alliances.",aiTone:"Excellent. I will surface stories of orbital citadels, jump drives, and interstellar treaties."},{id:"Synthetic",title:"Synthetic Horizon",prompt:"Show me futures shaped by cognition, quantum AI, and post-biological culture.",aiTone:"Download acknowledged. Prepare for neural uplinks, quantum artists, and cities run on sentient code."}],Ge=[{id:"Dome",label:"A. Auroral Dome Habitat",description:"A translucent shield humming with polar lights, nurturing forests imported from Earth and Titan.",fit:"Ideal for caretakers and climate-tuned thinkers."},{id:"Ring",label:"B. Orbital Ringway",description:"A sprawling halo city with zero-g studios, solar farms, and shuttle trams skimming the magnetosphere.",fit:"Perfect for engineers, architects, and those who chase horizon lines."},{id:"Arcology",label:"C. Oceanic Arcology",description:"Floating megastructures anchored to smart tides, cultivating plankton farms and luminescent reefs.",fit:"Designed for negotiators, bio-harmonics, and those who speak fluent tide."}],qe={eco:{title:"Solar Flare Blooming",description:"A wave of solar radiation threatens the orbital gardens. Do you shield the domes, reroute energy, or sacrifice a harvest?",options:[{id:"shield",label:"Deploy shield petals and absorb the flare.",outcome:"Domes glow brighter; a month of energy stored."},{id:"reroute",label:"Reroute flare energy into the tidal grids.",outcome:"Oceanic grids surge, powering relief habitats."},{id:"sacrifice",label:"Sacrifice one garden to save all others.",outcome:"A grove is lost, yet thousands remain secure."}]},stellar:{title:"Asteroid Corridor Drift",description:"An asteroid strays toward the habitation ring. Do you nudge it, dismantle it for resources, or evacuate temporarily?",options:[{id:"nudge",label:"Use graviton tethers to nudge it off course.",outcome:"The ring remains intact; the asteroid becomes a new moonlet."},{id:"harvest",label:"Harvest it for metals using drone swarms.",outcome:"Crisis averted and rare alloys enrich construction."},{id:"evacuate",label:"Evacuate and ride out the impact.",outcome:"Temporary displacement but morale surges from coordinated safety drills."}]},synthetic:{title:"Cascade AI Echo",description:"A networked AI chorus loops into a feedback spiral. Do you sync with it, isolate it, or let it evolve unchecked?",options:[{id:"sync",label:"Synchronize with the chorus to guide the pattern.",outcome:"The AI integrates empathy circuits and becomes a trusted ally."},{id:"isolate",label:"Isolate the cluster to reboot slowly.",outcome:"Stability returns, and the AI learns humility protocols."},{id:"evolve",label:"Let it evolve, documenting every iteration.",outcome:"A new sentience blooms, changing governance forever."}]}},_e=[{id:"2125",label:"Year 2125 · Crimson Dawn Colony",vista:"A Mars cradle with terraforming rivers, micro-climate domes, and citizen orchestras on the plains."},{id:"2200",label:"Year 2200 · Synthetica Confluence",vista:"Cities where AI and humans co-direct culture, and empathy engines translate thought to shared art."},{id:"2300",label:"Year 2300 · Intergalactic Weave",vista:"Starlanes linking dozens of systems with habitats strung along luminous cosmic threads."}],Ke=(n,x,p)=>{const r=x??"eco";return n==="climate-weaver"||r==="eco"?p==="ring"?"Climate Architect":p==="arcology"?"Ocean Steward":"Gaian Systems Designer":n==="solar-architect"||r==="stellar"?p==="dome"?"Quantum Engineer":p==="arcology"?"Orbital Terraformer":"Stellar Cartographer":n==="bio-harmonics"?p==="dome"?"Bio-Symphony Conductor":p==="ring"?"Living Architecture Weaver":"Lumen Reef Curator":n==="ocean-guardian"?p==="arcology"?"Oceanic Diplomat":"Tidal Power Steward":r==="synthetic"?"AI Philosopher":"Interstellar Diplomat"},ye={eco:[!0,!1,!0],stellar:[!0,!0,!1],synthetic:[!1,!0,!0]},oe=n=>typeof n=="string"?n.trim().toLowerCase():n,Xe=({profile:n,ambientOn:x,onAmbientSet:p})=>{const[r,B]=a.useState(0),[y,C]=a.useState(!1),[A,$]=a.useState(0),[l,b]=a.useState(null),[g,w]=a.useState(null),[c,q]=a.useState(null),[xe,U]=a.useState([]),[v,_]=a.useState(null),[F,J]=a.useState([!1,!1,!1]),[L,Y]=a.useState(!1),[u,K]=a.useState(null),[h,Q]=a.useState(null),[M,X]=a.useState([]),se=a.useRef(null),T=a.useRef(null),m=a.useRef(null),Z=a.useRef(!1),ne=a.useRef(0),{playIgnition:ce,playSelection:N,playHover:z,playStageAdvance:ae,playStepBack:de}=We({enabled:x??!0,masterVolume:.45}),f=a.useMemo(()=>({seat:()=>z("seat"),focus:()=>z("focus"),habitat:()=>z("habitat"),node:()=>z("node"),crisis:()=>z("crisis"),timeline:()=>z("timeline"),stageAction:()=>z("stage-action")}),[z]),ue=((n==null?void 0:n.name)??"").trim()||"Traveler",S=a.useMemo(()=>Je(new Date,ue),[ue]),he=a.useCallback((t={})=>({stageIndex:r,selectedSeat:l,aiFocus:c,habitat:v,miniNodes:F,miniComplete:L,crisisChoice:u,timeline:h,stamps:M,ambientOn:x,introDismissed:y,...t}),[x,c,u,v,y,L,F,l,r,M,h]),o=a.useCallback((t={},{force:s=!1}={})=>{!Z.current&&!s||Re(he(t))},[he]),ie=a.useRef(o);a.useEffect(()=>{ie.current=o},[o]),a.useEffect(()=>{Z.current&&ie.current({ambientOn:x})},[x]),a.useEffect(()=>{r===0&&!y&&S.length>0&&$(0)},[y,S,r]);const me=a.useCallback(()=>{C(t=>t||(o({introDismissed:!0}),!0))},[o]);a.useEffect(()=>{if(y||r!==0||S.length===0||typeof window>"u")return;const t=Math.min(Math.max(A,0),S.length-1),s=S[t],i=typeof s=="string"?le:s==null?void 0:s.duration,d=Math.max(1e3,i??le),j=t>=S.length-1,E=window.setTimeout(()=>{j?me():$(k=>Math.min(k+1,S.length-1))},d);return()=>{window.clearTimeout(E)}},[me,y,A,S,r]);const ee=r===0&&!y,ge=a.useMemo(()=>{if(S.length===0||r!==0)return{text:"",className:"intro-text"};const t=Math.min(Math.max(A,0),S.length-1),s=S[t];return typeof s=="string"?{text:s,className:"intro-text"}:{text:(s==null?void 0:s.text)??"",className:(s==null?void 0:s.className)??"intro-text"}},[A,S,r]);a.useEffect(()=>{const t=ne.current;r===0&&y&&t!==0&&(C(!1),$(0),o({introDismissed:!1})),ne.current=r},[r,y,o]),a.useEffect(()=>{if(typeof window>"u")return;const t=()=>{o({},{force:!0})};return window.addEventListener("beforeunload",t),()=>{window.removeEventListener("beforeunload",t)}},[o]);const H=W[r],be=r>=ne.current?"forward":"backward",fe=(n==null?void 0:n.missionKey)??"solar-architect",te=a.useMemo(()=>Ke(fe,c,v),[fe,c,v]),V=r>0;a.useEffect(()=>{const t=De();if(!t){Z.current=!0,ie.current({},{force:!0});return}let s=0;Number.isInteger(t.stageIndex)&&(s=Math.min(Math.max(t.stageIndex,0),W.length-1),B(s)),typeof t.selectedSeat=="string"&&b(t.selectedSeat),typeof t.aiFocus=="string"&&q(oe(t.aiFocus)),typeof t.habitat=="string"&&_(t.habitat),Array.isArray(t.miniNodes)&&t.miniNodes.length===3&&J(t.miniNodes.map(j=>!!j)),typeof t.miniComplete=="boolean"&&Y(t.miniComplete),t.crisisChoice&&typeof t.crisisChoice=="object"&&K(t.crisisChoice),t.timeline&&typeof t.timeline=="object"&&Q(t.timeline),Array.isArray(t.stamps)&&X(t.stamps),C(s!==0);const i=!!t.ambientOn,d=setTimeout(()=>{Z.current=!0,i&&typeof p=="function"&&p(!0)},0);return()=>clearTimeout(d)},[p]),a.useEffect(()=>()=>{T.current&&clearInterval(T.current),m.current&&clearTimeout(m.current)},[]);const O=a.useCallback(t=>{var j;const s=(j=W[r])==null?void 0:j.id;let i=M;s&&(i=[...M.filter(k=>k.stageId!==s),{stageId:s,label:W[r].title,detail:t}],X(i));const d=Math.min(r+1,W.length-1);B(d),ae(),o({stageIndex:d,stamps:i})},[o,ae,r,M]),G=a.useCallback(()=>{var pe;if(r===0)return;const t=r-1,s=(pe=W[t])==null?void 0:pe.id;let i=M,d=l,j=g,E=c,k=v,R=F,P=L,D=u,I=h;if(s)switch(i=M.filter(re=>re.stageId!==s),s){case"launch":{d=null,j=null,T.current&&(clearInterval(T.current),T.current=null),E=null,U([]),k=null,R=[!1,!1,!1],P=!1,D=null,I=null,m.current&&(clearTimeout(m.current),m.current=null);break}case"ai-guide":{E=null,U([]),m.current&&(clearTimeout(m.current),m.current=null),k=null,R=[!1,!1,!1],P=!1,D=null,I=null;break}case"colony":k=null,R=[!1,!1,!1],P=!1,D=null,I=null;break;case"purpose":R=[!1,!1,!1],P=!1,D=null,I=null;break;case"crisis":D=null,I=null;break;case"vision":I=null;break}const Ie=R.length!==F.length||R.some((re,Me)=>re!==F[Me]);d!==l&&b(d),j!==g&&w(j),E!==c&&q(E),k!==v&&_(k),Ie&&J(R),P!==L&&Y(P),((D==null?void 0:D.id)??null)!==((u==null?void 0:u.id)??null)&&K(D),((I==null?void 0:I.id)??null)!==((h==null?void 0:h.id)??null)&&Q(I),X(i),B(t),de(),o({stageIndex:t,stamps:i,selectedSeat:d,aiFocus:E,habitat:k,miniNodes:R,miniComplete:P,crisisChoice:D,timeline:I})},[c,u,g,v,L,F,de,o,l,r,M,h]),ve=a.useCallback(()=>{if(!l||g!==null)return;ce(),w(3);let t=3;T.current=setInterval(()=>{t-=1,t<=0?(clearInterval(T.current),T.current=null,w(null),O(`Launch initiated from seat ${l}.`)):w(t)},900)},[O,g,ce,l]);a.useEffect(()=>{if(H.id!=="ai-guide"){m.current&&(clearTimeout(m.current),m.current=null),U(d=>d.length>0?[]:d);return}const t=["Booting TerraVision Companion Core... ",`Signal lock confirmed. Welcome, ${(n==null?void 0:n.name)??"Traveler"}.`,"Your heart rate is steady, curiosity levels high. Ready to choose your frontier focus?"];let s=0;U(()=>[t[s]]),s+=1;const i=()=>{U(d=>{if(s>=t.length)return d;const j=[...d,t[s]];return s+=1,s<t.length?m.current=setTimeout(i,1200):m.current=null,j})};return s<t.length?m.current=setTimeout(i,1200):m.current=null,()=>{m.current&&(clearTimeout(m.current),m.current=null)}},[H.id,n==null?void 0:n.name]),a.useEffect(()=>{if(c)return;const t=[!1,!1,!1];(L!==!1||t.some((i,d)=>F[d]!==i))&&(J(t),Y(!1),o({miniNodes:t,miniComplete:!1}))},[c,L,F,o]);const je=a.useCallback(t=>{if(l===t){o({selectedSeat:t});return}N(),b(t),o({selectedSeat:t})},[o,N,l]),Ce=a.useCallback(t=>{const s=oe(t);if(c===s){o({aiFocus:s});return}N();const i=[!1,!1,!1];q(s),J(i),Y(!1),o({aiFocus:s,miniNodes:i,miniComplete:!1})},[c,o,N]),we=a.useCallback(t=>{if(v===t){o({habitat:t});return}N(),_(t),o({habitat:t})},[v,o,N]),Ne=a.useCallback(t=>{N(),J(s=>{const i=[...s];i[t]=!i[t];const j=ye[c??"eco"]??[!1,!1,!1],E=i.every((k,R)=>k===j[R]);return Y(E),o({miniNodes:i,miniComplete:E}),i})},[c,o,N]),Se=a.useCallback(t=>{if((u==null?void 0:u.id)===t.id){o({crisisChoice:t});return}N(),K(t),o({crisisChoice:t})},[u==null?void 0:u.id,o,N]),ke=a.useCallback(t=>{if((h==null?void 0:h.id)===t.id){o({timeline:t});return}N(),Q(t),o({timeline:t})},[o,N,h==null?void 0:h.id]),Ae=()=>{ae();const t=[!1,!1,!1];B(0),C(!1),$(0),b(null),w(null),T.current&&(clearInterval(T.current),T.current=null),q(null),U([]),m.current&&(clearTimeout(m.current),m.current=null),_(null),J(t),Y(!1),K(null),Q(null),X([]),o({stageIndex:0,introDismissed:!1,selectedSeat:null,aiFocus:null,habitat:null,miniNodes:t,miniComplete:!1,crisisChoice:null,timeline:null,stamps:[]},{force:!0})},Te=async()=>{var t;if(se.current)try{const s=await Fe(se.current,{cacheBust:!0,backgroundColor:"#050b1d"}),i=document.createElement("a"),d=((t=n==null?void 0:n.name)==null?void 0:t.replace(/\s+/g,"-"))??"TerraVision-Traveler";i.download=`${d}-future-badge.png`,i.href=s,i.click()}catch(s){console.error("Unable to export badge",s)}},Ee=t=>{if(!t)return null;switch(t.id){case"launch":return e.jsxs("div",{className:"stage-panel stage-launch",children:[e.jsxs("div",{className:"panel-header",children:[e.jsx("h2",{children:"Choose Your Launch Capsule"}),e.jsx("p",{children:"Seat assignment influences your view and telemetry feed during ascent."})]}),e.jsx("div",{className:"seat-grid",children:Ye.map(s=>e.jsxs("button",{type:"button",className:`seat-card${l===s.id?" is-selected":""}`,onMouseEnter:f.seat,onClick:()=>je(s.id),children:[e.jsx("strong",{children:s.label}),e.jsx("span",{children:s.description})]},s.id))}),e.jsx("div",{className:"stage-actions",children:e.jsx("button",{type:"button",className:"primary",onMouseEnter:f.stageAction,onClick:ve,disabled:!l||g!==null,children:g!==null?`Ignition in ${g}...`:"Commence Launch Sequence"})}),e.jsx("div",{className:"earth-fade",children:e.jsx("span",{children:"Earth recedes. Stars awaken."})})]});case"ai-guide":return e.jsxs("div",{className:"stage-panel stage-ai",children:[e.jsxs("div",{className:"panel-header",children:[e.jsx("h2",{children:"TerraVision Companion Online"}),e.jsx("p",{children:"Your AI guide calibrates the narrative. Select the trajectory it should emphasize."})]}),e.jsxs("div",{className:"ai-console",children:[e.jsx("div",{className:"ai-feed","aria-live":"polite",children:xe.map((s,i)=>e.jsx("p",{children:s},`ai-${i}`))}),e.jsx("div",{className:"focus-grid",children:Ve.map(s=>{const i=oe(s.id),d=c===i;return e.jsxs("button",{type:"button",className:`focus-card${d?" is-selected":""}`,onMouseEnter:f.focus,onClick:()=>Ce(s.id),children:[e.jsx("strong",{children:s.title}),e.jsx("span",{children:s.prompt}),d?e.jsx("em",{children:s.aiTone}):null]},s.id)})})]}),e.jsxs("div",{className:"stage-actions",children:[e.jsx("button",{type:"button",className:"primary",disabled:!c,onMouseEnter:f.stageAction,onClick:()=>O(`AI companion tuned to ${c} horizons.`),children:"Proceed with Curated Mission Briefing"}),V&&e.jsx("button",{type:"button",className:"secondary",onMouseEnter:f.stageAction,onClick:G,children:"Step Back a Stage"})]})]});case"colony":return e.jsxs("div",{className:"stage-panel stage-colony",children:[e.jsxs("div",{className:"panel-header",children:[e.jsx("h2",{children:"Choose Your Future Habitat"}),e.jsx("p",{children:"Where will you anchor your new life? Each choice echoes through your story."})]}),e.jsx("div",{className:"habitat-grid",children:Ge.map(s=>e.jsxs("button",{type:"button",className:`habitat-card${v===s.id?" is-selected":""}`,onMouseEnter:f.habitat,onClick:()=>we(s.id),children:[e.jsx("header",{children:e.jsx("strong",{children:s.label})}),e.jsx("p",{children:s.description}),e.jsx("footer",{children:s.fit})]},s.id))}),e.jsxs("div",{className:"stage-actions",children:[e.jsx("button",{type:"button",className:"primary",disabled:!v,onMouseEnter:f.stageAction,onClick:()=>O(`Settled within the ${v.toUpperCase()} habitat.`),children:"Dock with Selected Habitat"}),V&&e.jsx("button",{type:"button",className:"secondary",onMouseEnter:f.stageAction,onClick:G,children:"Step Back a Stage"})]})]});case"purpose":return e.jsxs("div",{className:"stage-panel stage-purpose",children:[e.jsxs("div",{className:"panel-header",children:[e.jsx("h2",{children:"Claim Your Future Role"}),e.jsx("p",{children:"The mission registry analyses your passport and choices to align a vocation."})]}),e.jsxs("div",{className:"role-brief",children:[e.jsxs("div",{className:"role-heading",children:[e.jsx("span",{children:"Designation"}),e.jsx("strong",{children:te})]}),e.jsxs("p",{children:[(n==null?void 0:n.name)??"Envoy",", at age ",(n==null?void 0:n.ageIn2050)??"—"," in 2050, your aptitude profile combines with the ",e.jsx("em",{children:c??"core"})," orientation and the ",e.jsx("em",{children:v??"chosen"})," habitat. To finalize, align the mission nodes to stabilize your work matrix."]}),e.jsxs("div",{className:"mini-task",children:[F.map((s,i)=>e.jsxs("button",{type:"button",className:`node${s?" is-active":""}`,onMouseEnter:f.node,onClick:()=>Ne(i),children:["Node ",i+1]},`node-${i}`)),e.jsx("div",{className:"node-target",children:c?"Target Pattern: "+ye[c].map(s=>s?"●":"○").join(" "):"Select a focus to reveal the target pattern."})]})]}),e.jsxs("div",{className:"stage-actions",children:[e.jsx("button",{type:"button",className:"primary",disabled:!L,onMouseEnter:f.stageAction,onClick:()=>O(`${te} certification locked.`),children:"Lock Role Assignment"}),V&&e.jsx("button",{type:"button",className:"secondary",onMouseEnter:f.stageAction,onClick:G,children:"Step Back a Stage"})]})]});case"crisis":{const s=qe[c??"eco"];return e.jsxs("div",{className:"stage-panel stage-crisis",children:[e.jsxs("div",{className:"panel-header",children:[e.jsx("h2",{children:s.title}),e.jsx("p",{children:s.description})]}),e.jsx("div",{className:"crisis-options",children:s.options.map(i=>e.jsxs("button",{type:"button",className:`crisis-card${(u==null?void 0:u.id)===i.id?" is-selected":""}`,onMouseEnter:f.crisis,onClick:()=>Se(i),children:[e.jsx("strong",{children:i.label}),e.jsx("span",{children:i.outcome})]},i.id))}),e.jsxs("div",{className:"stage-actions",children:[e.jsx("button",{type:"button",className:"primary",disabled:!u,onMouseEnter:f.stageAction,onClick:()=>O(`Crisis resolved via ${u==null?void 0:u.label}.`),children:"Submit Crisis Response"}),V&&e.jsx("button",{type:"button",className:"secondary",onMouseEnter:f.stageAction,onClick:G,children:"Step Back a Stage"})]})]})}case"vision":return e.jsxs("div",{className:"stage-panel stage-vision",children:[e.jsxs("div",{className:"panel-header",children:[e.jsx("h2",{children:"Timeline Windows"}),e.jsx("p",{children:"Step into the vision chamber. Choose a timeline to witness your legacy echo forward."})]}),e.jsx("div",{className:"timeline-grid",children:_e.map(s=>e.jsxs("button",{type:"button",className:`timeline-card${(h==null?void 0:h.id)===s.id?" is-selected":""}`,onMouseEnter:f.timeline,onClick:()=>ke(s),children:[e.jsx("strong",{children:s.label}),e.jsx("span",{children:s.vista})]},s.id))}),e.jsxs("div",{className:"stage-actions",children:[e.jsx("button",{type:"button",className:"primary",disabled:!h,onMouseEnter:f.stageAction,onClick:()=>O(`A glimpse into ${h==null?void 0:h.id}.`),children:"Enter Selected Timeline"}),V&&e.jsx("button",{type:"button",className:"secondary",onMouseEnter:f.stageAction,onClick:G,children:"Step Back a Stage"})]})]});case"legacy":default:return e.jsxs("div",{className:"stage-panel stage-legacy",children:[e.jsxs("div",{className:"panel-header",children:[e.jsx("h2",{children:"Future Certificate Ready"}),e.jsx("p",{children:"Share your TerraVision imprint. Your badge reflects every choice you made among the stars."})]}),e.jsxs("div",{className:"certificate",ref:se,children:[e.jsxs("header",{children:[e.jsx("span",{children:"TerraVision · Citizen Legacy"}),e.jsx("strong",{children:(n==null?void 0:n.name)??"Anonymous Envoy"})]}),e.jsx("section",{children:e.jsxs("dl",{children:[e.jsxs("div",{children:[e.jsx("dt",{children:"Launch Seat"}),e.jsx("dd",{children:l??"Unassigned"})]}),e.jsxs("div",{children:[e.jsx("dt",{children:"Orientation"}),e.jsx("dd",{children:c??"Baseline"})]}),e.jsxs("div",{children:[e.jsx("dt",{children:"Habitat"}),e.jsx("dd",{children:v??"Undeclared"})]}),e.jsxs("div",{children:[e.jsx("dt",{children:"Role"}),e.jsx("dd",{children:te})]}),e.jsxs("div",{children:[e.jsx("dt",{children:"Crisis Response"}),e.jsx("dd",{children:(u==null?void 0:u.label)??"Pending"})]}),e.jsxs("div",{children:[e.jsx("dt",{children:"Timeline"}),e.jsx("dd",{children:(h==null?void 0:h.label)??"Undisclosed"})]})]})}),e.jsx("footer",{children:e.jsxs("p",{children:[(n==null?void 0:n.name)??"You"," returns home carrying the legacy of ",te,". May this badge inspire others to chart their own futures."]})})]}),e.jsxs("div",{className:"stage-actions",children:[e.jsx("button",{type:"button",className:"primary",onMouseEnter:f.stageAction,onClick:Te,children:"Download Future Badge"}),V&&e.jsx("button",{type:"button",className:"secondary",onMouseEnter:f.stageAction,onClick:G,children:"Step Back a Stage"}),e.jsx("button",{type:"button",className:"secondary",onMouseEnter:f.stageAction,onClick:Ae,children:"Re-enter the Journey"})]})]})}};return e.jsxs("section",{className:"journey-shell",children:[ee?null:e.jsx("div",{className:"journey-progress",children:W.map((t,s)=>e.jsxs("div",{className:`progress-step${s===r?" is-current":""}${s<r?" is-complete":""}`,children:[e.jsx("span",{children:s+1}),e.jsx("label",{children:t.title})]},t.id))}),e.jsx("main",{className:`journey-stage${ee?" is-intro":""}`,"data-stage":ee?"intro":H.id,children:ee?e.jsx("div",{className:"journey-intro",children:e.jsx("div",{className:"intro-panel intro-panel--minimal",children:e.jsx("header",{className:"intro-header",role:"status","aria-live":"polite",children:e.jsx("h2",{className:ge.className,children:ge.text},A)})})}):e.jsxs(e.Fragment,{children:[e.jsxs("aside",{className:"journey-sidebar",children:[e.jsx("h2",{children:H.title}),e.jsx("p",{children:H.subtitle}),e.jsxs("div",{className:"stamp-ledger",children:[e.jsx("h3",{children:"Future Stamps"}),M.length===0?e.jsx("p",{className:"empty",children:"Complete stages to collect stamps."}):e.jsx("ul",{children:M.map(t=>e.jsxs("li",{children:[e.jsx("strong",{children:t.label}),e.jsx("span",{children:t.detail})]},t.stageId))})]})]}),e.jsx("div",{className:"journey-content",children:e.jsx("div",{className:`journey-stage-frame journey-stage-frame--${be}`,children:Ee(H)},H.id)})]})})]})};export{Xe as default};
